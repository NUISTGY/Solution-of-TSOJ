#include<stdio.h>
int main()
{
   int d,g,i,j,k,m,n,r,a[3000][30],b[3000][30];
   printf("请输入逐位整除数的位数n:");
   scanf("%d",&n);
   g=9;                 /*递推基础：1位时赋初值*/
   for(j=1;j<=g;j++)
      a[j][1]=j;
   for(k=2;k<=n;k++)    /*递推位数k从2开始递增*/
   {
      m=0;
      for(i=1;i<=g;i++) /*枚举g个k-1位逐位整除数*/
         for(j=0;j<=9;j++)  /*k位数的个位数字为j*/
         {
            a[i][k]=j;
            for(r=0,d=1;d<=k;d++) /*检测k位数除k的余数r*/
            {
               r=r*10+a[i][d];
               r=r%k;
            }
            if(r==0)
            {
               m++;
               for(d=1;d<=k;d++)
                  b[m][d]=a[i][d];  /*满足条件的k位数赋值给b数组*/
            }
         }
      g=m;           /*递推得g个k位逐位整除数*/
      for(i=1;i<=g;i++)
         for(d=1;d<=k;d++)
            a[i][d]=b[i][d];   /*g个b数组向a数组赋值，准备下步递推*/
   }
   if(g>0)   /*输出n位的个数及每一个数*/
   {
      printf("%d位逐位整除数共%4d个:\n",n,g);
      for(i=1;i<=g;i++)
      {
         printf("  %d:",i);
         for(d=1;d<=n;d++)
            printf("%d",a[i][d]); 
         printf("\n");
      }
   }
   else
      printf("无解！\n");
}
